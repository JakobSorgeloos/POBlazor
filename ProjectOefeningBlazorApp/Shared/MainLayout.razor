@inherits LayoutComponentBase
@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager

    

        
            <MudDialogProvider />
            <MudSnackbarProvider />


            <MudThemeProvider Theme="currentTheme" />

            <MudLayout>
                <MudAppBar Elevation="1">
                    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
                    <MudButtonGroup Color="Color.Primary" Variant="Variant.Filled" Size="Size.Large">

                        
                        <MudButton Link="Media">MediaMaestro</MudButton>
                    </MudButtonGroup>
                    <MudSpacer />
                    <LoginDisplay></LoginDisplay>
                    
                   
                
                <MudIconButton Icon="@Icons.Material.Rounded.Brightness4" Color="Color.Inherit" Title="Toggle Dark/Light Mode" OnClick="@((e) => DarkMode())">Toggle Dark/Light Mode</MudIconButton>
                <MudIconButton Icon ="@Icons.Custom.Brands.GitHub"  Color="Color.Inherit" Target="_blank" Link="https://github.com/JakobSorgeloos"></MudIconButton>    
            </MudAppBar>
                <MudDrawer @bind-Open="_drawerOpen" Elevation="2">
                    <MudDrawerHeader>
                        <MudText Typ    o="Typo.h5" Class="mt-1">Media Maestro</MudText>
                    </MudDrawerHeader>
                    <NavMenu/>
                </MudDrawer>
                <MudMainContent>
                    @Body
                </MudMainContent>
            </MudLayout>
        
            
            @code {
                bool _drawerOpen = false;

                void DrawerToggle()
                {
                    _drawerOpen = !_drawerOpen;
                }
                protected override void OnInitialized()
                {
                    currentTheme = defaultTheme;
                }

                void DarkMode()
                {
                    if (currentTheme == defaultTheme)
                    {
                        currentTheme = darkTheme;
                    }
                    else
                    {
                        currentTheme = defaultTheme;
                    }
                }

                MudTheme currentTheme = new MudTheme();
                MudTheme defaultTheme = new MudTheme()
                {
                    Palette = new Palette()
                    {
                        Black = "#272c34"
                    }
                };

                MudTheme darkTheme = new MudTheme()
                {
                    Palette = new Palette()
                    {
                        Black = "#27272f",
                        Background = "#32333d",
                        BackgroundGrey = "#27272f",
                        Surface = "#373740",
                        DrawerBackground = "#27272f",
                        DrawerText = "rgba(255,255,255, 0.50)",
                        DrawerIcon = "rgba(255,255,255, 0.50)",
                        AppbarBackground = "#27272f",
                        AppbarText = "rgba(255,255,255, 0.70)",
                        TextPrimary = "rgba(255,255,255, 0.70)",
                        TextSecondary = "rgba(255,255,255, 0.50)",
                        ActionDefault = "#adadb1",
                        ActionDisabled = "rgba(255,255,255, 0.26)",
                        ActionDisabledBackground = "rgba(255,255,255, 0.12)",
                        Divider = "rgba(255,255,255, 0.12)",
                        DividerLight = "rgba(255,255,255, 0.06)",
                        TableLines = "rgba(255,255,255, 0.12)",
                        LinesDefault = "rgba(255,255,255, 0.12)",
                        LinesInputs = "rgba(255,255,255, 0.3)",
                        TextDisabled = "rgba(255,255,255, 0.2)"
                    }
                };
            }
